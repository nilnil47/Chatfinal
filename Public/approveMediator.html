<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
      integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/style.css" />
    <title>Approve Mediator</title>
  </head>
  <body >
    <div  style="display: flex;  ">
      
    </div>
    <div class="join-container">
      <header class="join-header">
        <h1 ><i><img src="https://scontent.ftlv5-1.fna.fbcdn.net/v/t1.6435-9/210055216_4275416162479634_2684092467103518465_n.jpg?_nc_cat=105&ccb=1-3&_nc_sid=730e14&_nc_ohc=RVqKSF-u2dkAX_GPbH1&_nc_ht=scontent.ftlv5-1.fna&oh=385de3e9721f0c2da5d75cd096242efc&oe=60E5E75B" 
        width="80" height="90" alt="webmaster logo" /></i>Approve Mediator</h1>
      </header>


          
  
         <h1 id="data"  style="background-color: rgb(255, 255, 255); color: #000;">


      <script>
   
        const yourUrl = "/api/unapprovedMed";
        
        fetch(yourUrl)
          .then(res=>res.json())
          .then((res) => {
            var strHtml = "";
            strHtml += /*html*/`
              
       

            <table border="6" style="margin-left:auto; font-size:15px; margin-right:auto;">
            <tr>
              
              <th>First Name</th>
               <th>Last Name</th>
               <th>User Name</th>
               <th>Education</th>
               <th>Proffesional Experience</th>
  
            </tr>
              
           
      
              `;
            
            var myarray = res;      
            myarray.forEach((obj) => {
            let { firstName, lastName,username, education, proffesionalExperience } = obj;
            var name=obj.username;
            strHtml += /*html*/`
              
<tr>
  
              <td>${firstName} </td>           
              <td>${lastName}</td>
              <td> ${username}</td>
              <td>${education}</td>
              <td>${proffesionalExperience}</td>
              <td><center><button type="submit" class="btn" style="color:white" onclick="approvenMed('${name}');">Approve</button></center></td>

            </tr>

        
             
      
              `;
            });

            //console.log(strHtml);
            document.getElementById("data").innerHTML = strHtml;
          });


          function approvenMed(name){
          const yourUrl = '/api/approvenMed'
          const object = {
            username:name
          }
          console.log(object.username);


       
          var xhr = new XMLHttpRequest();
          xhr.open("POST", yourUrl, true);
          xhr.setRequestHeader('Content-Type', 'application/json');
          xhr.send(JSON.stringify(object));
          window.location.href="approveMediator.html";
      
        } 
        </script>


          </a>
        </div>
      </main>
    </div>
  </div>

  </body>  <center> <a href="index.html">
    <button>Logout</button></a></center>

</html>
